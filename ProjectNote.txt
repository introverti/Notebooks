# Ubuntu server 18.04 + ROS + Cartographe on Raspberry 4B

Q：为什么要使用18.04 版本的Ubuntu ？
A：当前最新的21.04 版本在树梅派上的源是通过 ubuntu.port 而不是ubuntu 导致无法获取ROS 的release文件

下载Ubuntu 18.04 的xz文件 ，注意对应树莓派的型号
http://cdimage.ubuntu.com/releases/18.04/release/
ubuntu-18.04.5-preinstalled-server-arm64+raspi4.img.xz

用树莓派镜像工具将镜像文件写入SD卡，最后提示可以拔出SD卡就成功了
Use Raspberry Pi image (https://www.raspberrypi.org/software/)

将SD卡插入树莓派中启动。
初始的登陆用户名和密码 都是 ：ubuntu
系统会立即要求你更改密码

更改密码之后登陆就可以进入主console
因为是server 版本 不自带图形化界面 需要额外安装
如果接网线可以直接联网
如果要接入WIFI 
需要如下操作：
#进入netplan文件夹
cd /etc/netplan
#ls 后打开其中的yaml文件
#可以使用 vim 编辑器 也可以使用nano
sudo vim xxxx.yaml
#修改yaml文件如下：
network:
   version: 2
   ethernets:
	………………(此处不用修改已省略）
   wifis:
       wlan0:
           dhcp4: true
           access-points:
               "wifi名称":
                   password: "wifi密码"

#注意 wifis和 ethernets对齐 如果输入正确 关键词都会染色高亮

#调试配置文件，如果输入错误会有报错，根据报错修改
sudo netplan try
#应用配置文件
sudo netplan apply
#执行完这一步 wifi就应该连接成功了

#更新系统 并安装Ubuntu界面 （耗时较长）
sudo apt-get update 
sudo apt-get dist-upgrade -y 
sudo apt-get install ubuntu-desktop -y

